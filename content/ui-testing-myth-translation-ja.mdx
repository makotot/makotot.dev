---
title: UI Testing Myths の日本語訳
draft: false
date: "2022-10-04"
tags: ['testing']
---

これは、[Kent C. Dodds氏](https://kentcdodds.com/)のブログ記事である[UI Testing Myths](https://kentcdodds.com/blog/ui-testing-myths)を日本語訳してみたものです。

---

### 神話 1: ”コードに変更を加えるといつもテストが壊れる”
実際のところ本当です。。誤ったテストが書かれていれば。もし実装詳細をテストしていれば、当然実装が変更された時にテストが壊れます！ですがユーザーは実装詳細に関心がありません。実際、ユーザーはReactでもAngularでもjQueryでも何が使われているかを気にしません。なので、ほとんどの場合、テストについてもそのことを気にする必要がありません。💯

残念なことに、多くのツールは実装詳細をテストすることを推奨しています。そのようにすると、テストを書き直すことが多くなりがちです。”なぜこのようなものまでテストしているのか？”と自問するかもしれませんが、それも仕方のないことです。それが[TestingJavaScript.com](https://testingjavascript.com/)において私が*正しい*テストのやり方を伝えている理由です。


### 神話 2: ”reduxに'繋いだ'コンポーネントをテストできない”
Reduxを使っているコンポーネントのテストの従来の常識は、コンポーネントをReduxから分離してテストして、Reduxのaction creatorやreducerを分けてテストするというものでした。

ですが、このようにすると、テストはコンポーネントがRedux*と*適切に連携できていることに信頼を全く与えてくれません。

代わりに、本当のRedux storeと繋いだコンポーネントを実際にテストすることができます。そうすると、コンポーネントが適切にレンダリングされること*と*Reduxのaction creatorやreducerが全て一緒に連動して機能していることに信頼を与えてくれます。

[TestingJavaScript.com](https://testingjavascript.com/)において、このようなテストの方法について紹介しています。React Router🔀 や他のプロバイダー（emotion 👩‍🎤のTheme Providerなど）にも同じ考え方を適用できて、このコースではどのようにしてそれらを適用するのかも紹介しています！

### 神話 3: ”E2Eテストは遅くて脆い”
これも誤ったテストが書かれている場合に本当のことになります。私がE2Eテストにおいてよく目にする間違いは、テスト毎に同じことをしているというものです—例えば、全てのテストがテストで必要なことの前に、登録とログインの全フローを行う。こういうことをすると、多くの重複を目にすることになり、”page objects”（悪いプラクティスです）のようなものを作り始めるわけです。 😐

[TestingJavaScript.com](https://testingjavascript.com/)において、登録とログインのフローが機能していることに自信が持てる方法を紹介していて、残りのテストではそれらをスキップすることで格段に速くして、障害点を減らすようにしています。[Cypress Testing Library](https://github.com/testing-library/cypress-testing-library)のようなツールを利用してこのような形でテストをすると、page objectsのようなプラクティスは全く必要のないものとなり、テストのメンテナンスが容易になり、信頼できて、より高速に実行できるようになります。開発のワークフローツールとしてChromeをCypressへと置き換えることさえありえるかもしれません（その方法もまたコースで紹介しています！）😱
